// Autogenerated from device-runner-linux.tmpl

package main

import (
	"github.com/merliot/thing2"
	"github.com/merliot/thing2/models"
)

func main() {
	thing2.Setenv("PORT", "{{.Data.port}}")
	thing2.Setenv("USER", "{{.Data.user}}")
	thing2.Setenv("PASSWD", "{{.Data.passwd}}")
	thing2.Setenv("DIAL_URLS", "{{.Data.dialurls}}")

	thing2.Setenv("DEVICES", `{
	"{{id}}": {
		"Id": "{{id}}",
		"Model": "{{model}}",
		"Name": "{{name}}",
		"Children": [],
		"DeployParams": "{{deployParams}}"
	}
}`)
{{ if isProgenitive }}
	thing2.Models = models.AllModels
{{- else }}
	thing2.Models = thing2.ModelMap{
		"{{model}}": models.{{title model}},
	}
{{- end }}

	thing2.Run()
}
