// Autogenerated from device-runner.tmpl

package main

import (
	"github.com/merliot/thing2"
	"github.com/merliot/thing2/models"
)

func main() {
	os.Setenv("PORT", "{{.Vars.port}}")
	os.Setenv("USER", "{{.Vars.user}}")
	os.Setenv("PASSWD", "{{.Vars.passwd}}")
	os.Setenv("DIAL_URLS", "{{.Vars.urls}}")

{{- if .Vars.progenitive }}
	thing2.Models = models.AllModels
{{- else }}
	thing2.Models = thing2.ModelMap{
		"{{.Device.Model}}": models.{{title .Device.Model}},
	}
{{- end }}
	thing2.Run()
}
